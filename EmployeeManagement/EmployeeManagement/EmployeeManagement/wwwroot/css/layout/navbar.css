/* ========================================
   Top Navigation Bar & Navbar Styling
   Responsive Navbar with Hamburger Button & Offcanvas
   ======================================== */

/* NOTE: CSS Scope Management for .bi icons
   
   The .bi selector is namespaced to navbar context only:
   - .top-row .bi (navbar icons)
   - .navbar-brand .bi (brand icons)
   - .nav-item .bi (sidebar menu icons in nav)
   
   This prevents CSS rules from overriding inline width/height attributes on SVGs
   used in other components (e.g., profile images in Home.razor).
   
   Following Single Responsibility Principle, navbar icon styles are isolated
   to navbar components only. If new icon elements need navbar styling,
   add their parent selector below.
*/

/* Navbar Container - Responsive */
.navbar {
    background-color: var(--navbar-bg);
    padding: 0 var(--navbar-padding-mobile);
    min-height: var(--navbar-height);
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
    box-shadow: 0 0 2px 0 rgba(0,0,0,.14),0 2.5px 1px -2px rgba(0,0,0,.2),0 1px 5px 0 rgba(0,0,0,.12);
}

@media (min-width: 1024px) {
    .navbar {
        padding: 1rem 1.5rem;
    }
}

/* Navbar Brand / Logo */
.navbar-brand {
    font-size: var(--fs-lg);
    font-weight: var(--fw-bold);
    color: var(--navbar-text);
    flex-shrink: 0;
    transition: color var(--transition-fast);
}

.navbar-brand:hover {
    color: var(--color-accent);
}

/* Hamburger Button - Bootstrap5 Toggle */
.navbar-toggler {
    width: var(--hamburger-width);
    height: var(--hamburger-height);
    min-width: var(--hamburger-width);
    min-height: var(--hamburger-height);
    padding: 0.25rem;
    border: 1px solid rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
    border-radius: 4px;
    transition: all var(--transition-fast);
    display: flex;
    align-items: center;
    justify-content: center;
    order: 1;
}

.navbar-toggler:hover {
    background-color: rgba(255, 255, 255, 0.15);
}

.navbar-toggler:focus {
    outline: 2px solid var(--color-accent);
    outline-offset: 2px;
}

.navbar-toggler-icon {
    width: 100%;
    height: 100%;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28255, 255, 255, 0.8%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");
    background-repeat: no-repeat;
    background-position: center;
    background-size: contain;
}

/* Hide hamburger on desktop */
@media (min-width: 1024px) {
    .navbar-toggler {
        display: none !important;
    }
}

/* Navbar Links & Content */
.top-row ::deep a,
.top-row ::deep .btn-link {
    white-space: nowrap;
    text-decoration: none;
    color: var(--navbar-text);
    transition: color var(--transition-fast);
    font-size: var(--fs-sm);
}

.top-row ::deep a:hover,
.top-row ::deep .btn-link:hover {
    color: var(--color-accent);
}

.top-row ::deep a:focus,
.top-row ::deep .btn-link:focus {
    outline: 2px solid var(--color-accent);
    outline-offset: 2px;
}

/* Namespace .bi icons to navbar context only (SRP compliance) */
.top-row .bi,
.navbar-brand .bi,
.nav-item .bi {
    display: inline-block;
    position: relative;
    width: 1.25rem;
    height: 1.25rem;
    margin-right: var(--spacing-sm);
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
}

/* Navbar icon background images */
.bi-house-door-fill-nav-menu {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='white' class='bi bi-house-door-fill' viewBox='0 0 16 16'%3E%3Cpath d='M6.5 14.5v-3.505c0-.245.25-.495.5-.495h2c.25 0 .5.25.5.5v3.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5Z'/%3E%3C/svg%3E");
}

.bi-plus-square-fill-nav-menu {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='white' class='bi bi-plus-square-fill' viewBox='0 0 16 16'%3E%3Cpath d='M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm6.5 4.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3a.5.5 0 0 1 1 0z'/%3E%3C/svg%3E");
}

.bi-organization-nav-menu {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='white' class='bi bi-org' viewBox='0 0 16 16'%3E%3Cpath d='M5 1a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v1H5V1zm4 0a1 1 0 0 0-1 1v1h2V1a1 1 0 0 0-1-1zm3 3H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z'/%3E%3C/svg%3E");
}

.bi-policy-nav-menu {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='white' class='bi bi-file-text' viewBox='0 0 16 16'%3E%3Cpath d='M5 4a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1H5zm-.5 2.5A.5.5 0 0 1 5 6h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zM5 8a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1H5zm0 2a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1H5z'/%3E%3C/svg%3E");
}

.bi-profile-nav-menu {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='white' class='bi bi-person' viewBox='0 0 16 16'%3E%3Cpath d='M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm.078 5.51a6.4 6.4 0 0 1 2.604.776c.763.426 1.218 1.005 1.218 1.62v.5H1.125v-.5c0-.615.455-1.194 1.218-1.62a6.4 6.4 0 0 1 2.604-.776h3.054z'/%3E%3C/svg%3E");
}

.bi-achievements-nav-menu {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='white' class='bi bi-award' viewBox='0 0 16 16'%3E%3Cpath d='M9.669.864L8 0 6.331.864l-1.334.666 1.334.666L8 2l1.669-.866 1.334-.666-1.334-.666zM4.618 2.884l1.416 1.879L5.112 5H2.588l1.03-2.116zm6.764 0l1.03 2.116H10.888l-.922-1.237 1.416-1.879zm2.164 5.51l-1.707-.707L8 10.571l1.83-1.415 1.707.708-.708 1.707 1.415 1.83-1.834.122-1.587-1.022-1.586 1.023-1.834-.122 1.414-1.83-.708-1.707z'/%3E%3C/svg%3E");
}

.bi-announcements-nav-menu {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='white' class='bi bi-megaphone' viewBox='0 0 16 16'%3E%3Cpath d='M13 2.5a1.5 1.5 0 1 1 3 0v5a1.5 1.5 0 0 1-3 0v-5zM9.05 3a1.5 1.5 0 0 1 1.477 1.068.5.5 0 0 0 .967-.062C10.882 2.112 10.021 1 8.956 1H8v5h1V3.05a.5.5 0 0 0 .05-.05zm3.95 8.5H9V3H8c-1.065 0-1.926 1.112-1.896 2.5.003.055.028.108.062.156a.5.5 0 0 1-.967-.062C4.539 4.068 5.4 3 6.444 3h3.61a1.5 1.5 0 0 1 1.477 1.068.5.5 0 0 0 .967-.062C13.882 2.112 13.021 1 11.956 1h-3.61v5h3.054a1.5 1.5 0 0 1 1.406 1.002.5.5 0 0 0 .97-.124 2.5 2.5 0 0 0-2.376-1.627z'/%3E%3C/svg%3E");
}

.bi-list-nested-nav-menu {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='white' class='bi bi-list-nested' viewBox='0 0 16 16'%3E%3Cpath fill-rule='evenodd' d='M4.5 11.5A.5.5 0 0 1 5 11h10a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zm-2-4A.5.5 0 0 1 3 7h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm-2-4A.5.5 0 0 1 1 3h10a.5.5 0 0 1 0 1H1a.5.5 0 0 1-.5-.5z'/%3E%3C/svg%3E");
}

/* Mobile & Tablet - Hamburger visible */
@media (max-width: 1023px) {
    .navbar-toggler {
        display: inline-flex !important;
    }

    .top-row,
    .top-row.auth {
        justify-content: space-between;
        padding-left: var(--navbar-padding-mobile);
        padding-right: var(--navbar-padding-mobile);
    }

    .top-row ::deep a,
    .top-row ::deep .btn-link {
        margin-left: 0;
    }
}

/* Desktop - Hamburger hidden, navbar stretched */
@media (min-width: 1024px) {
    .top-row,
    .top-row.auth {
        justify-content: flex-end;
        padding-left: var(--navbar-padding-desktop);
        padding-right: var(--navbar-padding-desktop);
    }

    .top-row.auth ::deep a:first-child {
        flex: 1;
        text-align: right;
        width: 0;
    }
}
